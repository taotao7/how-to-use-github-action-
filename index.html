<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Git Action</title>
    <link rel="stylesheet" href="/node_modules/reveal.js/dist/reveal.css" />
    <link
      rel="stylesheet"
      href="/node_modules/reveal.js/dist/theme/blood.css"
    />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>â›· Git Action</h1>
        </section>
        <section>
          <section>
            <h2>CI/CD</h2>
            <p>æŒç»­é›†æˆCI(Continuous Integration)</p>
            <p>æŒç»­äº¤ä»˜CD(Continuous Delivery)</p>
            <p>æŒç»­éƒ¨ç½²CD(Continuous Deployment)</p>
            <img src="./assets/flow.png" alt="" />
          </section>
          <section>
            <h2>CI æŒç»­é›†æˆ</h2>
            <p>åˆå¹¶ï¼Œæµ‹è¯•ï¼Œä»£ç å¥åº·æ£€æŸ¥...</p>
            <aside class="notes">
              ç¡®ä¿ç»Ÿä¸€ç¯å¢ƒï¼Œå®Œæ•´æ€§æµ‹è¯•ï¼Œé˜²æ­¢ç ´åæ€§æ›´æ”¹,å¦‚æœå‘ç°æœ‰é—®é¢˜å¯ä»¥ç”¨ciè¿›è¡Œä¿®å¤æˆ–è€…æé†’ç»´æŠ¤è€…,aoneçš„ä¾‹å­ï¼Œä»£ç å¥åº·ç­‰ç­‰
            </aside>
          </section>
          <section>
            <h2>CD æŒç»­äº¤ä»˜</h2>
            <p>æµ‹è¯•ã€ç¼–è¯‘ã€åˆå¹¶ä»£ç ç­‰æ“ä½œ</p>
            <aside class="notes">
              åœ¨æŒç»­äº¤ä»˜ä¸­ï¼Œæ¯ä¸ªé˜¶æ®µï¼ˆä»ä»£ç æ›´æ”¹çš„åˆå¹¶ï¼Œåˆ°ç”Ÿäº§å°±ç»ªå‹æ„å»ºç‰ˆæœ¬çš„äº¤ä»˜ï¼‰éƒ½æ¶‰åŠæµ‹è¯•è‡ªåŠ¨åŒ–å’Œä»£ç å‘å¸ƒè‡ªåŠ¨åŒ–ã€‚åœ¨æµç¨‹ç»“æŸæ—¶ï¼Œè¿ç»´å›¢é˜Ÿå¯ä»¥å¿«é€Ÿã€è½»æ¾åœ°å°†åº”ç”¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚
            </aside>
          </section>
          <section>
            <h2>CD æŒç»­éƒ¨ç½²</h2>
            <p>ä½œä¸ºäº¤ä»˜çš„å»¶ç»­å·¥ä½œï¼Œå¯ä»¥è‡ªåŠ¨æŠŠé€šè¿‡æ ¡éªŒçš„ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨</p>
            <aside class="notes">æ›´åŠ é«˜æ•ˆçš„è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹ï¼Œå‡å°‘é‡å¤å·¥ä½œ</aside>
          </section>
          <section>
            <h2>å¸¸è§çš„CI/CDå¹³å°</h2>
            <p>Jenkins</p>
            <p>CricleCi</p>
            <p>Travis</p>
            <p>GitHub Actions</p>
            <aside class="notes">
              ç‰¹ç‚¹Jekinsæœ¬åœ°æœåŠ¡å™¨æ„å»º, Travis æ›¾ç»ä¸»æµ GitHub Actions ä¸»æµ
            </aside>
          </section>
        </section>
        <section>
          <section>
            <h2>GitHub Action</h2>
            <ul>
            <li>
              ğŸ¤–:GitHub Actions <a href="https://github.com/marketplace?type=actions">
Marketplace Actions
              </a> 
            </li>
            <li>
              ğŸ¤–: <a href="https://docs.github.com/cn/actions">Document</a>
            </li>
            </ul>
            <p>
            </p>
            <aside class="notes">
              git action å’Œå…¶ä»–ci/cdæœåŠ¡çš„åŒºåˆ«ï¼Œå¸‚åœºï¼Œæœ¬èº«çš„ä¼˜åŠ¿ï¼Œå…¶ä»–å¸¸ç”¨çš„ä¸€äº›è„šæœ¬éƒ½èƒ½æ‰¾åˆ°å¯¹åº”
            </aside>
          </section>
          <section>
            <h2>åŸºæœ¬æ¦‚å¿µ</h2>
            <ul>
              <li>workflow(å·¥ä½œæµç¨‹):æŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹,å°±æ˜¯ä¸€ä¸ªworkflowã€‚</li>
              <li>job(ä»»åŠ¡):ä¸€ä¸ªworkflowç”±ä¸€ä¸ªæˆ–å¤šä¸ªjobsæ„æˆ,å«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œ,å¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚</li>
              <li>step(æ­¥éª¤):æ¯ä¸ªjobç”±å¤šä¸ªstepæ„æˆ,ä¸€æ­¥æ­¥å®Œæˆã€‚</li>
              <li>action(åŠ¨ä½œ):æ¯ä¸ªstepå¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤(action)ã€‚</li>
            </ul>
          </section>
          <section>
            æ ·ä¾‹
            <pre>
              <code>
name: CodeCov
on:
  push:
    branches: [master]
  workflow_run:
    workflows: ['Receive PR']
    types:
      - completed

jobs:
  CodeCov:
    environment: ali_oss_AK
    runs-on: ubuntu-latest
    env:
      ONCI: true
      ALI_SDK_OSS_ID: ${{secrets.ALI_SDK_OSS_ID}}
      ALI_SDK_OSS_SECRET: ${{secrets.ALI_SDK_OSS_SECRET}}
      ALI_SDK_OSS_REGION: ${{secrets.ALI_SDK_OSS_REGION}}
      ALI_SDK_STS_BUCKET: ${{secrets.ALI_SDK_STS_BUCKET}}
      ALI_SDK_STS_ID: ${{secrets.ALI_SDK_STS_ID}}
      ALI_SDK_STS_REGION: ${{secrets.ALI_SDK_STS_REGION}}
      ALI_SDK_STS_ROLE: ${{secrets.ALI_SDK_STS_ROLE}}
      ALI_SDK_STS_SECRET: ${{secrets.ALI_SDK_STS_SECRET}}
    steps:
      - uses: actions/checkout@v2
      - name: test and report upload
        run: |
          npm install
          npm run tsc
          npx nyc --reporter=lcov node_modules/.bin/_mocha -t 60000 -r should test/node/*.test.js test/node/**/*.test.js
          npx codecov -t ${{secrets.CODECOV_KEY}}
              </code>
            </pre>
          </section>
          <section>
            <h2>Environment</h2>
            <img src="./assets/environments.jpg" alt="">
          </section>
        </section>
      </div>
    </div>
    <script type="module" src="index.js"></script>
  </body>
</html>
